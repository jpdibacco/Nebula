{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){var n,i=60;(n=io.connect({query:\"username=\"+sessionStorage.getItem(\"username\")})).on(\"connect\",function(e){!function(e){var t=Date.now(),n=new o;n.init_socket(e),setInterval(function(){var i=Date.now()-t;t=Date.now(),n.Update(e,i),n.Render(i)},1e3/i),e.emit(\"init_client\",\"hello\")}(n)});class o{constructor(){this.canvas=document.getElementById(\"canvas\"),this.ctx=this.canvas.getContext(\"2d\"),this.player=new s({x:10,y:10,h:10,w:10}),this.player.init_controller(),this.players=[]}init_socket(e){e.on(\"players\",function(e){this.players=e}.bind(this))}Update(e,t){this.player.Update(t),e.emit(\"move\",this.player.loc)}Render(e){let t=this.ctx;this.canvas;for(var n in t.clearRect(0,0,t.canvas.width,t.canvas.height),this.player.Render(t),this.players){r(t,this.players[n],\"blue\")}}}function r(e,t,n){e.fillStyle=n,e.fillRect(t.x,t.y,t.w,t.h)}class s{constructor(e){this.left=!1,this.right=!1,this.up=!1,this.down=!1,this.loc=e}init_controller(){document.addEventListener(\"keydown\",this.checkKeyDown.bind(this)),document.addEventListener(\"keyup\",this.checkKeyUp.bind(this))}Update(e){this.left&&this.loc.x--,this.right&&this.loc.x++,this.up&&this.loc.y--,this.down&&this.loc.y++}Render(e,t){}checkKeyDown(e){e.preventDefault(),console.log(e.keyCode),37===e.keyCode&&(this.left=!0),39===e.keyCode&&(this.right=!0),38===e.keyCode&&(this.up=!0),40===e.keyCode&&(this.down=!0)}checkKeyUp(e){e.preventDefault(),37===e.keyCode&&(this.left=!1),39===e.keyCode&&(this.right=!1),38===e.keyCode&&(this.up=!1),40===e.keyCode&&(this.down=!1)}}}]);","extractedComments":[]}